<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
	<head>
	<meta http-equiv="X-UA-Compatible"content="IE=8">
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
	<title>新增参数界面</title>
	<link rel="StyleSheet" type="text/css" href="../scripts/css/validation.css">
	<script type="text/javascript" src="../scripts/lib-main.js"></script>
	<script type="text/javascript" src="../scripts/common/pms.js"></script>
	<script type="text/javascript" src="../scripts/common/pmsCommon.js"></script>
	<style>
	html {
		overflow: auto;
		height: 100%;
	}
	body {
		overflow: auto;
		background: #E6E6E6 url(images/right.jpg) repeat-y right top;
		height: 100%;
		margin: 0px;
		pading: 0px;
		padding-right: 5px;
	}
	</style>
	<script type="text/javascript">
       	 var FlowId = getUrlParamByKey("FlowId");
            $(function(){
                $validator = new PMSValidator($("#FK")[0], {
                    bNormalDisplay: false,
                    iDisplayLength: 4
                });
                $("#flowId").val(FlowId);
            });
            function doSubmit(){
            	var obj = {
            		flowId:$("#flowId").val(),
            		variableCode:$("#variableCode").val(),
            		variableName:$("#variableName").val(),
            		variableType:$("input[name='variableType']:checked").val()
            	}
            	doManager("WFFlowVariableManager", "addArg", obj, function(data, textStatus, XMLHttpRequest){
					alert("ok");
				});
            	window.location.href = 'Edit_workflow.html?FlowId=' + FlowId;
            }
            function doReturn(){
            	window.location.href = 'Edit_workflow.html?FlowId=' + FlowId;
            }
        </script>
	<style type="text/css">
	table {
		border: 0px solid #000;
	}
	
	td {
		border: 0px solid #000;
	}
	</style>
	</head>
<body style="margin-left: 3px; text-align: center;" background="images/leftbg.png">
	<div class="rightcont body_bg clear" style="width: 300px; margin: 0px auto; padding: 0px auto;">
		<div class="box">
			<div class="containerbody">
				<form id="FK" class="pmsForm" validate="true" clientvalidate="true" displaynumber="7">
					<table class="layout" cellpadding="0" cellspacing="0" border="0" bordercolor="red">
						<tr>
							<td align="left" nowrap="true">流程Id:</td>
							<td><input type="text" id="flowId" name="flowId" disabled />
							</td>
						</tr>
						<tr>
							<td align="left" nowrap="true">参数代码:</td>
							<td><input type="text" id="variableCode" name="variableCode" validate="required:true, maxlength:50,minlength:1" /></td>
						</tr>
						<tr>
							<td align="left" nowrap="true">参数名称:</td>
							<td><input type="text" id="variableName" name="variableName" validate="required:true, maxlength:50,minlength:1" /></td>
						</tr>
						<tr>
							<td align="left" nowrap="true">参数数据类型:</td>
							<td><input class="pmsRadio" id="variableType1" name="variableType" data="[['字符型','字符型'],['数值型','数值型','checked']]" /></td>
						</tr>
						<tr>
							<td align="left" nowrap="true" colspan="4">
								<button class="buttonu" value="提交" onclick="doSubmit()">&nbsp;
									提交
								</button>
								<button class="buttonu" value="返回" onclick="doReturn()">&nbsp;
									返回
								</button>
							</td>
						</tr>
					</table>
				</form>
			</div>
		</div>
	</div>
</body>
</html>